<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>For Hiba Madam üíñ</title>
<style>
body {
    margin:0;
    height:100vh;
    background: linear-gradient(135deg,#ff758c,#ff7eb3);
    display:flex;
    justify-content:center;
    align-items:center;
    font-family:Arial, sans-serif;
    overflow:hidden;
}
.card {
    text-align:center;
    background:white;
    padding:40px;
    border-radius:20px;
    box-shadow:0 10px 25px rgba(0,0,0,0.2);
    position:relative;
    max-width:90%;
    z-index:2;
}
h1 {color:#ff4d6d; margin-bottom:30px;}
.buttons {position:relative; height:150px;}
button {
    padding:12px 25px;
    font-size:18px;
    border:none;
    border-radius:30px;
    cursor:pointer;
    position:absolute;
}
#yesBtn {background:#ff4d6d;color:white; left:20%;}
#noBtn {background:#aaa;color:white; left:60%;}
.message {
    font-size:22px;
    color:#ff4d6d;
    margin-top:20px;
    display:none;
}
canvas {
    position:fixed; top:0; left:0;
    pointer-events:none;
    z-index:1;
}
.video-popup {
    position:fixed; inset:0;
    background:black; display:none;
    justify-content:center; align-items:center;
    z-index:5;
}
.video-popup video {
    width:95%;
    max-width:500px;
    border-radius:15px;
}
</style>
</head>
<body>

<canvas id="fireworks"></canvas>

<div class="card">
  <h1 id="question">Hiba madam, will you be my Valentine? üíñ</h1>
  <div class="buttons">
      <button id="yesBtn">Yes üíò</button>
      <button id="noBtn">No üôà</button>
  </div>
  <div class="message" id="loveMsg">I knew you'd say YES üòçüíû</div>
</div>

<div class="video-popup" id="videoPopup">
  <video id="loveVideo" src="love.mp4" controls autoplay></video>
</div>

<audio id="bgMusic" loop>
    <source src="song.mp3" type="audio/mpeg">
</audio>

<script>
const noBtn = document.getElementById("noBtn");
const yesBtn = document.getElementById("yesBtn");
const question = document.getElementById("question");
const message = document.getElementById("loveMsg");
const music = document.getElementById("bgMusic");
const popup = document.getElementById("videoPopup");
const video = document.getElementById("loveVideo");

const questions = [
  "Are you sure Hiba madam? ü•∫",
  "Think again‚Ä¶ I‚Äôll be sad üíî",
  "Don‚Äôt break my heart üò≠",
  "Please say yes naaa üò©",
  "I‚Äôll keep asking forever üòå",
  "Hiba madam pleaseee üíñ"
];
let qIndex = 0;

// START MUSIC ON FIRST USER INTERACTION
document.body.addEventListener("click", () => {
  if (music.paused) music.play();
}, {once:true});

// Move NO when hovering or clicking
function moveNoBtn() {
    const x = Math.random()*(window.innerWidth-120);
    const y = Math.random()*(window.innerHeight-60);
    noBtn.style.left = x+"px";
    noBtn.style.top = y+"px";
    question.textContent = questions[qIndex++ % questions.length];
}
noBtn.addEventListener("mouseover", moveNoBtn);
noBtn.addEventListener("click", moveNoBtn);
noBtn.addEventListener("touchstart", e=>{e.preventDefault(); moveNoBtn();});

// YES CLICK SEQUENCE
yesBtn.addEventListener("click", () => {
    message.style.display="block";
    question.textContent = "Best decision ever, Hiba madam üíû";
    
    // STOP background music
    music.pause();
    music.currentTime = 0;

    startFireworks();

    // AFTER 5 SECONDS, SHOW VIDEO
    setTimeout(()=>{
        stopFireworks = true;
        popup.style.display="flex";
        video.play();
    },5000);
});

// CLOSE VIDEO ON CLICK
popup.addEventListener("click", ()=>{
    popup.style.display="none";
    video.pause();
});

// FIREWORKS
const canvas = document.getElementById("fireworks");
const ctx = canvas.getContext("2d");
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;
let particles = [];
let stopFireworks = false;

function createFirework(){
    const x=Math.random()*canvas.width;
    const y=Math.random()*canvas.height/2;
    for(let i=0;i<80;i++){
        particles.push({x,y,angle:Math.random()*2*Math.PI,speed:Math.random()*5+2,life:100});
    }
}

function updateFireworks(){
    if(stopFireworks) return;
    ctx.clearRect(0,0,canvas.width,canvas.height);
    particles.forEach((p,i)=>{
        p.x += Math.cos(p.angle)*p.speed;
        p.y += Math.sin(p.angle)*p.speed;
        p.life--;
        ctx.beginPath();
        ctx.arc(p.x,p.y,2,0,Math.PI*2);
        ctx.fillStyle = "hsl("+Math.random()*360+",100%,60%)";
        ctx.fill();
        if(p.life<=0) particles.splice(i,1);
    });
    requestAnimationFrame(updateFireworks);
}

func
